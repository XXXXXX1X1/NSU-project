# –£–ª—É—á—à–µ–Ω–Ω—ã–π OCR —Å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π (CV-2-13)


---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –õ–∏–Ω–µ–π–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞/—è—Ä–∫–æ—Å—Ç–∏ (`alpha`, `beta`).
- –ë–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–∂–∏–º—ã –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ `pic2txt.py`:
  `default | document | newspaper | inverted | comic`.
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **√ó2**).
- OCR: `pytesseract.image_to_string()` (–¥–≤–∏–∂–æ–∫ **Tesseract OCR**).
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:
  - –ø—Ä–∏ `--truth` ‚Üí **Accuracy, % (–ø–æ —Å–ª–æ–≤–∞–º)**;
  - –∏–Ω–∞—á–µ ‚Üí **Average confidence (Tesseract)**.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø—Ä–µ–≤—å—é ¬´–¥–æ/–ø–æ—Å–ª–µ¬ª.
- –û—Ç—á—ë—Ç –≤ **JSON/CSV** —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ —Å–≤–µ–¥–µ–Ω–∏—è–º–∏ –æ–± –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
CV-2-13/
‚îú‚îÄ cv213_runner.py                 # –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–Ω–Ω–µ—Ä: baseline ‚Üí preprocess ‚Üí OCR ‚Üí –º–µ—Ç—Ä–∏–∫–∏/–æ—Ç—á—ë—Ç
‚îú‚îÄ pic2txt.py                      # –º–æ–¥—É–ª—å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏: –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è/—Ä–µ–∂–∏–º—ã/–º–∞—Å—à—Ç–∞–± + –∑–∞–≥—Ä—É–∑–∫–∞
‚îú‚îÄ brightness_and_contrast.py      # –º–æ–¥—É–ª—å —É—Å–∏–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞/—è—Ä–∫–æ—Å—Ç–∏ (alpha/beta)
‚îú‚îÄ requirements.txt
‚îî‚îÄ README.md
```

üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
Python 3.9+

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Tesseract OCR (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ: tesseract --version).
–ï—Å–ª–∏ Tesseract –Ω–µ –≤ PATH, —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å —Ñ–ª–∞–≥–æ–º --tesseract-cmd.

Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
```
txt
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
# requirements.txt
numpy>=1.24
opencv-python>=4.8
Pillow>=10.0
pytesseract>=0.3.10
```
üß© –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```
pip install -r requirements.txt
```
‚ñ∂Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ 5 –ø—É–Ω–∫—Ç–æ–≤ –∑–∞–¥–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã):
```

python cv213_runner.py img.png --lang eng --scale 2 \
  --save pre.png --preview sbs.png --report rep.json
```
```
python cv213_runner.py img.png --lang eng --scale 2 \
  --truth truth.txt --save pre.png --preview sbs.png --report rep.json
–Ø–≤–Ω—ã–π —Ä–µ–∂–∏–º + –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞/PSM/DPI:
```
```
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
python cv213_runner.py img.png --lang eng+rus --psm 6 --dpi 300 \
  --mode document --scale 2 --alpha 1.3 --beta 20 \
  --save pre.png --preview sbs.png --report rep.csv --report-format csv
–ï—Å–ª–∏ Tesseract –Ω–µ –≤ PATH:
```
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
python cv213_runner.py img.png --tesseract-cmd "C:\Program Files\Tesseract-OCR\tesseract.exe"
‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã CLI
–ê—Ä–≥—É–º–µ–Ω—Ç	–û–ø–∏—Å–∞–Ω–∏–µ	–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```
image	–ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é	‚Äî
--lang	–Ø–∑—ã–∫(–∏) Tesseract (–Ω–∞–ø—Ä. eng, eng+rus)	eng
--psm	Page Segmentation Mode (0..13)	6
--dpi	DPI-—Ö–∏–Ω—Ç –¥–ª—è Tesseract	300
--mode	–†–µ–∂–∏–º –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ pic2txt.py	document
--scale	–ú–∞—Å—à—Ç–∞–± —É–≤–µ–ª–∏—á–µ–Ω–∏—è	2.0
--alpha, --beta	–ö–æ–Ω—Ç—Ä–∞—Å—Ç/—è—Ä–∫–æ—Å—Ç—å (linear)	1.5, 30.0
--no-contrast	–û—Ç–∫–ª—é—á–∏—Ç—å —É—Å–∏–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞/—è—Ä–∫–æ—Å—Ç–∏	–≤—ã–∫–ª.
--truth	–ü—É—Ç—å –∫ —ç—Ç–∞–ª–æ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É –¥–ª—è —Ç–æ—á–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏	‚Äî
--save	PNG –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è	‚Äî
--preview	PNG –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–≤—å—é ¬´–¥–æ/–ø–æ—Å–ª–µ¬ª	‚Äî
--report	–ü—É—Ç—å –∫ –æ—Ç—á—ë—Ç—É (.json –∏–ª–∏ .csv)	‚Äî
--report-format	–§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞ (json | csv)	json
--tesseract-cmd	–ü—É—Ç—å –∫ tesseract.exe, –µ—Å–ª–∏ –Ω–µ –≤ PATH	‚Äî
--log-level	DEBUG | INFO | WARNING | ERROR	INFO
```
üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ü–µ–ª—å ‚â• 90%
```
–° —ç—Ç–∞–ª–æ–Ω–æ–º (--truth): —Å—á–∏—Ç–∞–µ—Ç—Å—è Accuracy, % (–ø–æ —Å–ª–æ–≤–∞–º) –Ω–∞ –æ—Å–Ω–æ–≤–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ –ø–æ —Ç–æ–∫–µ–Ω–∞–º; –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è Improvement (pp) –∏ —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ ‚â• 90%.

–ë–µ–∑ —ç—Ç–∞–ª–æ–Ω–∞: —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è Average confidence –∏–∑ pytesseract.image_to_data.

–ü—Ä–∏–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞:
```
```

=== METRICS ===
Accuracy, % (by truth words) ‚Äî baseline:    85.30
Accuracy, % (by truth words) ‚Äî preprocessed: 92.45
Improvement (pp): 7.15
Target ‚â•90% words correct: OK: ‚â• 90%
```
